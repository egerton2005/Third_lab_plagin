# Plugin *MoveYoHeader*
> Автор - *Янчуков Егор Владимирович*, *М3101*

Данный плагин на VS Code предназначен для быстрого переноса нужных строк в header file

## Описание решения 
Кроме функции activate все асинхронные. 

Программа состоит из функций:
```
async function getSubIn(filePath, subStr) -> bool
function activate(context) 
```
### *getSubIn*
```
// Сhecks for the presence of a substring in a file
async function getSubIn(filePath, subStr) -> bool
```
Функция принимает путь к файлу header и строку которую нужно найти.
В переменной `text` записываем весь текст файла и с помощью метода `includes`, проверяем наличие `subStr`.

### *activate*
```
function activate(context)
```
1. Регистрируем комманду и запускаем ассинхронную функцию выполнения:

   `let disposable = vscode.commands.registerCommand('extension.moveTextToHeader', async function () {`
3. В переменную `text` записываем выделенный текст, проверяем, если строка не начинается со спецсимволов: `/`, `#`, то добавляем `;` в конец строки.
4. Далее обрабатываем эту строку удаляя незначащие символы: `space`, `\n`, `\t`. С помощью функции `getSubIn` проверяем наличие обработанной строки в файле с таким же именем, как и текущий, но с расширением `.h`.
5. Если файла с именем текущего файла и расширеним `.h` нет в данной дериктории, выводим предупреждение.
6. Если существует header с тем же именем, что и текущий файл, то:
    1. Если выбранная строка есть в header, выводим предупреждение с кнопкой `Wright down`, при нажатии на которую произойдет принудительная запись в файл.
    2. Если же строки нет в header, то добавим её туда.  


## Принцип использования
1. Чтобы начать использовать плагин, нужно скачать файл "*Version*"->"*movetoheader-{last_version}.vsix*" и добавить его в расширения VS Code.
2. Чтобы перенести выделенный текст в header вашего файла(должен находится в дериктории текущего файла), вам нужно выделить текст и нажать комбминацию 'ctrl-shift-]'.
    1. Если выделенный текст присутствует в header, то вызовется окно предупреждения и для подтверждения операции вам нужно нажать на "*Wright down*".
    2. Иначе текст запишется в header.
3. Выделенный текст запишется в файл с символом ";" на конце, если в начале строки не стоит "#" или "/".
